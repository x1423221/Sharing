"use strict";(self["webpackChunksplit"]=self["webpackChunksplit"]||[]).push([[509],{6777:function(e,t,l){l.d(t,{A:function(){return i}});l(4114);var n=l(6768),a=l(144),u=l(1387),s=l(7477),r={__name:"BtnGotoHomePage",setup(e){const t=(0,u.rd)(),l=()=>{t.push("/")};return(e,t)=>{const u=(0,n.g2)("el-button");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(u,{type:"danger",size:"small",icon:(0,a.R1)(s.bm),circle:"",onClick:l},null,8,["icon"])])}}},d=l(1241);const c=(0,d.A)(r,[["__scopeId","data-v-70e41686"]]);var i=c},3509:function(e,t,l){l.r(t),l.d(t,{default:function(){return f}});l(4114),l(8992),l(4520),l(3949),l(1454);var n=l(6768),a=l(4232),u=l(144),s=l(7617),r=l(1387),d=l(9648),c=l(6777);const i={class:"title-container"},o={class:"card-header"};var v={__name:"HistoryComponents",setup(e){const t=(0,r.rd)(),l=(0,n.WQ)("isLoading"),v=(0,n.WQ)("profile"),p=(0,n.WQ)("currentGroup"),k=(0,u.Kh)({}),f=(0,u.Kh)({}),h=(0,u.KR)([]);(0,n.sV)((async()=>{try{const e=(0,s.aU)(),t=(0,s.rJ)(e,"241229Test"),n=await(0,s.GG)(t);n.forEach((e=>{const t=e.data();if(e.id===v.value.userId){const l=Object.entries(t).map((([t,l])=>({did:e.id,id:t,...l})));return void(h.value=[...h.value,...l])}const l=Object.entries(t).filter((([e,t])=>(console.log(e),t.members.filter((e=>e.userId===v.value.userId)).length>0))).map((([t,l])=>({did:e.id,id:t,...l})));h.value=[...h.value,...l]})),h.value.sort(((e,t)=>new Date(t.date)-new Date(e.date))),(0,d.iN)(h.value,k,f),l.value=!1}catch(e){alert(e)}}));const _=e=>{p.value=h.value[e],t.push("/group")};return(e,t)=>{const l=(0,n.g2)("el-header"),u=(0,n.g2)("el-button"),s=(0,n.g2)("el-card"),r=(0,n.g2)("el-scrollbar"),d=(0,n.g2)("el-main"),v=(0,n.g2)("el-container");return(0,n.uX)(),(0,n.Wv)(v,null,{default:(0,n.k6)((()=>[(0,n.bF)(l,null,{default:(0,n.k6)((()=>[(0,n.Lk)("div",i,[(0,n.bF)(c.A),t[0]||(t[0]=(0,n.Lk)("div",null,[(0,n.Lk)("span",null,"歷史紀錄")],-1))])])),_:1}),(0,n.bF)(d,null,{default:(0,n.k6)((()=>[(0,n.bF)(r,{height:"100%","wrap-style":"overflow-x: hidden;"},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(h.value,((e,t)=>((0,n.uX)(),(0,n.Wv)(s,{key:t,class:(0,a.C4)({hidden:f[e.id]}),style:(0,a.Tr)(k[e.id])},{header:(0,n.k6)((()=>[(0,n.Lk)("div",o,[(0,n.Lk)("span",null,(0,a.v_)(e.name),1)])])),default:(0,n.k6)((()=>[(0,n.Lk)("p",null,(0,a.v_)(e.date),1),(0,n.bF)(u,{type:"success",onClick:e=>_(t)},{default:(0,n.k6)((()=>[(0,n.eW)(" 前往"+(0,a.v_)(e.name),1)])),_:2},1032,["onClick"])])),_:2},1032,["class","style"])))),128))])),_:1})])),_:1})])),_:1})}}},p=l(1241);const k=(0,p.A)(v,[["__scopeId","data-v-cd275b38"]]);var f=k}}]);
//# sourceMappingURL=509.23549cda.js.map