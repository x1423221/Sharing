"use strict";(self["webpackChunksplit"]=self["webpackChunksplit"]||[]).push([[509],{7377:function(t,e,n){n.d(e,{A:function(){return c}});n(4114);var s=n(6768),a=n(1387),i={__name:"BtnGotoHomePage",setup(t){const e=(0,a.rd)(),n=()=>{e.push("/")};return(t,e)=>((0,s.uX)(),(0,s.CE)("button",{id:"btnGoHome",class:"btn btn-danger d-flex align-items-center justify-content-center",onClick:n},e[0]||(e[0]=[(0,s.Lk)("i",{class:"bi bi-x-lg"},null,-1)])))}};const l=i;var c=l},3509:function(t,e,n){n.r(e),n.d(e,{default:function(){return C}});n(4114),n(8992),n(4520),n(3949),n(1454);var s=n(6768),a=n(4232),i=n(144),l=n(7617),c=n(1387),r=n(9648),u=n(7377);const o={class:"group-container"},d={class:"container-title"},v={class:"title-container"},k={class:"container-body"},p={class:"card-container"},b={class:"card-body"},f={class:"card-title"},h=["onClick"];var L={__name:"HistoryComponents",setup(t){const e=(0,c.rd)(),n=(0,s.WQ)("isLoading"),L=(0,s.WQ)("profile"),m=(0,s.WQ)("currentGroup"),C=(0,i.Kh)({}),g=(0,i.Kh)({}),y=(0,i.KR)([]);(0,s.sV)((async()=>{try{const t=(0,l.aU)(),e=(0,l.rJ)(t,"241229Test"),s=await(0,l.GG)(e);s.forEach((t=>{const e=t.data();if(t.id===L.value.userId){const n=Object.entries(e).map((([e,n])=>({did:t.id,id:e,...n})));return void(y.value=[...y.value,...n])}const n=Object.entries(e).filter((([t,e])=>(console.log(t),e.members.filter((t=>t.userId===L.value.userId)).length>0))).map((([e,n])=>({did:t.id,id:e,...n})));y.value=[...y.value,...n],y.value.sort(((t,e)=>t.date>e.date))})),(0,r.iN)(y.value,C,g),n.value=!1}catch(t){alert(t)}}));const G=t=>{m.value=y.value[t],e.push("/group")};return(t,e)=>((0,s.uX)(),(0,s.CE)("div",o,[(0,s.Lk)("div",d,[(0,s.Lk)("div",v,[(0,s.bF)(u.A),e[0]||(e[0]=(0,s.Lk)("div",null,[(0,s.Lk)("span",null,"歷史紀錄")],-1))])]),(0,s.Lk)("div",k,[(0,s.Lk)("div",p,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(y.value,((t,e)=>((0,s.uX)(),(0,s.CE)("div",{key:t.id,class:(0,a.C4)([{hidden:g[t.id]},"card"]),style:(0,a.Tr)(C[t.id])},[(0,s.Lk)("div",b,[(0,s.Lk)("h5",f,(0,a.v_)(t.name),1),(0,s.Lk)("span",null,(0,a.v_)(t.date),1),(0,s.Lk)("div",null,[(0,s.Lk)("button",{id:"btnGotoGroupPage",class:"btn btn-success",onClick:t=>G(e),style:{width:"100%"}}," 前往"+(0,a.v_)(t.name),9,h)])])],6)))),128))])])]))}};const m=L;var C=m}}]);
//# sourceMappingURL=509.9c199fa1.js.map